<aside id="sidebar"
  class="fixed top-0 left-0 z-20 w-64 h-screen pt-16 transition-transform duration-300 ease-in-out text-gray-800 border-r border-gray-200 shadow-lg bg-white"
  [class.translate-x-0]="open || isLargeScreen"
  [class.-translate-x-full]="!open && !isLargeScreen"
  [class.md:translate-x-0]="isLargeScreen"
  [class.sidebar-toggle-enter]="open">

  <div class="h-full overflow-y-auto">
    <ul class="space-y-2 px-4 font-medium sidebar-nav" id="sidebar-nav">

      <li class="nav-item relative">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('dashboard') ? 'bg-blue-50 text-blue-700 shadow-sm  border-blue-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/dashboard']" (click)="onMenuClick($event)">
          <!-- Font Awesome icon -->
          <i class="fa-solid fa-gauge-high text-lg w-6 text-blue-600"></i>
          <span class="ml-3 flex-1">Dashboard</span>

          <!-- right arrow indicator -->
          <i
            class="fa-solid fa-angle-right text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-150 text-gray-400"></i>

          <!-- active left accent -->
          <span
            class="absolute left-0 top-0 bottom-0 w-1 rounded-tr-md rounded-br-md bg-gradient-to-b from-blue-500 to-blue-600"
            [class.hidden]="!isActiveMenuItem('dashboard')"></span>
        </a>
      </li>

      <li class="nav-item">
        <a id="components-nav-button" class="flex items-center p-3 rounded-lg group cursor-pointer relative"
          [ngClass]="isExpanded('components-nav') ? 'bg-amber-50 text-amber-700 shadow-sm  border-amber-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [attr.aria-expanded]="getExpandedState('components-nav')" (click)="onMenuClick($event, 'components-nav')"
          (keydown)="onKeyDown($event, 'components-nav')" tabindex="0" role="button" aria-controls="components-nav" aria-labelledby="components-nav-button">
          <i class="fa-solid fa-car-side text-lg w-6 text-amber-600"></i>
          <span class="flex-1 ml-3 whitespace-nowrap">Cars</span>

          <!-- chevron (Font Awesome) with rotation -->
          <i class="fa-solid fa-chevron-down w-3 h-3 transition-transform duration-200 text-gray-400"
            [class.rotate-180]="isExpanded('components-nav')" aria-hidden="true"></i>
          <span class="sr-only">{{ isExpanded('components-nav') ? 'Collapse' : 'Expand' }} Cars menu</span>

          <!-- left accent when expanded -->
          <span
            class="absolute left-0 top-0 bottom-0 w-1 rounded-tr-md rounded-br-md bg-gradient-to-b from-amber-500 to-amber-600"
            [class.hidden]="!isExpanded('components-nav')"></span>
        </a>

        <ul id="components-nav"
          class="py-2 space-y-2 nav-content overflow-hidden transition-all duration-300 ease-in-out pl-4"
          [class.max-h-0]="!isExpanded('components-nav')" [class.max-h-screen]="isExpanded('components-nav')"
          [class.loading]="isLoading" role="region" [attr.aria-labelledby]="'components-nav-button'">
        
          <li>
            <a [routerLink]="['/admin/cars/add-car']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Add Car</span>
              <i class="fa-solid fa-arrow-up-right-from-square ml-auto text-xs text-gray-400 opacity-80"></i>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/list']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Cars</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/brands']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Brands</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/models']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Models</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/types']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Types</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/body-styles']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Body Styles</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/transmission-types']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Transmission Types</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/drive-types']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Drive Types</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/engine-types']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Engine Types</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/vehicle-statuses']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Vehicle Statuses</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/cars/trim']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Trim</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a id="roles-permissions-nav-button" class="flex items-center p-3 rounded-lg group cursor-pointer relative"
          [ngClass]="isExpanded('roles-permissions-nav') ? 'bg-emerald-50 text-emerald-700 shadow-sm  border-emerald-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [attr.aria-expanded]="getExpandedState('roles-permissions-nav')"
          (click)="onMenuClick($event, 'roles-permissions-nav')" (keydown)="onKeyDown($event, 'roles-permissions-nav')"
          tabindex="0" role="button" aria-controls="roles-permissions-nav" aria-labelledby="roles-permissions-nav-button">
          <i class="fa-solid fa-shield-halved text-lg w-6 text-emerald-600"></i>
          <span class="flex-1 ml-3 whitespace-nowrap">Roles & Permissions</span>
          <i class="fa-solid fa-chevron-down w-3 h-3 transition-transform duration-200 text-gray-400"
            [class.rotate-180]="isExpanded('roles-permissions-nav')" aria-hidden="true"></i>
          <span class="sr-only">{{ isExpanded('roles-permissions-nav') ? 'Collapse' : 'Expand' }} Roles & Permissions menu</span>

          <span
            class="absolute left-0 top-0 bottom-0 w-1 rounded-tr-md rounded-br-md bg-gradient-to-b from-emerald-500 to-emerald-600"
            [class.hidden]="!isExpanded('roles-permissions-nav')"></span>
        </a>
        <ul id="roles-permissions-nav"
          class="py-2 space-y-2 nav-content overflow-hidden transition-all duration-300 ease-in-out pl-4"
          [class.max-h-0]="!isExpanded('roles-permissions-nav')"
          [class.max-h-screen]="isExpanded('roles-permissions-nav')" [class.loading]="isLoading" role="region"
          [attr.aria-labelledby]="'roles-permissions-nav-button'">
          <li>
            <a [routerLink]="['/admin/roles-permissions']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Roles & Permissions</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-item">
        <a id="banner-nav-button" class="flex items-center p-3 rounded-lg group cursor-pointer relative"
          [ngClass]="isExpanded('banner-nav') ? 'bg-rose-50 text-rose-700 shadow-sm  border-rose-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [attr.aria-expanded]="getExpandedState('banner-nav')" (click)="onMenuClick($event, 'banner-nav')"
          (keydown)="onKeyDown($event, 'banner-nav')" tabindex="0" role="button" aria-controls="banner-nav" aria-labelledby="banner-nav-button">
          <i class="fa-solid fa-palette text-lg w-6 text-rose-600"></i>
          <span class="flex-1 ml-3 whitespace-nowrap">Designs</span>
          <i class="fa-solid fa-chevron-down w-3 h-3 transition-transform duration-200 text-gray-400"
            [class.rotate-180]="isExpanded('banner-nav')" aria-hidden="true"></i>
          <span class="sr-only">{{ isExpanded('banner-nav') ? 'Collapse' : 'Expand' }} Designs menu</span>

          <span
            class="absolute left-0 top-0 bottom-0 w-1 rounded-tr-md rounded-br-md bg-gradient-to-b from-rose-500 to-rose-600"
            [class.hidden]="!isExpanded('banner-nav')"></span>
        </a>
        <ul id="banner-nav"
          class="py-2 space-y-2 nav-content overflow-hidden transition-all duration-300 ease-in-out pl-4"
          [class.max-h-0]="!isExpanded('banner-nav')" [class.max-h-screen]="isExpanded('banner-nav')"
          [class.loading]="isLoading" role="region" [attr.aria-labelledby]="'banner-nav-button'">
          <li>
            <a [routerLink]="['/admin/designs']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Designs</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/designs/branding']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Branding</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/designs/templates']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Templates</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/admin/designs/partners']" (click)="onMenuClick($event)"
              class="flex items-center w-full p-2 text-gray-600 rounded-md pl-8 group transition duration-150 hover:bg-gray-50 hover:text-gray-900">
              <i class="fa-solid fa-circle text-xs mr-2 text-gray-400"></i>
              <span>Partners</span>
            </a>
          </li>
        </ul>
      </li>

      <li class="nav-heading pt-4 mt-4 uppercase text-xs font-semibold text-gray-500 border-t border-gray-200">
        Management</li>

      <li class="nav-item">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('users') ? 'bg-blue-50 text-blue-700 shadow-sm  border-blue-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/users']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-users text-lg w-6 text-blue-600"></i>
          <span class="ml-3">Users</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('admin') ? 'bg-amber-50 text-amber-700 shadow-sm  border-amber-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/admin']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-user-shield text-lg w-6 text-amber-600"></i>
          <span class="ml-3">Admins</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('profile') ? 'bg-gray-50 text-gray-700 shadow-sm  border-gray-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/profile']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-user-circle text-lg w-6 text-gray-600"></i>
          <span class="ml-3">Profile</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="relative flex items-center p-3 rounded-lg group transition-all duration-200"
          [ngClass]="isActiveMenuItem('notifications') ? 'bg-rose-50 text-rose-700 shadow-sm  border-rose-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/notifications']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-bell text-lg w-6 text-rose-600"></i>
          <span class="ml-3">Notifications</span>
          <span
            class="inline-flex items-center justify-center w-6 h-6 ml-auto text-xs font-semibold text-white bg-rose-600 rounded-full">2</span>
        </a>
      </li>

      <li class="nav-heading pt-4 mt-4 uppercase text-xs font-semibold text-gray-500 border-t border-gray-200">Features
      </li>

      <li class="nav-item">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('financing-requests') ? 'bg-indigo-50 text-indigo-700 shadow-sm  border-indigo-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/financing-requests']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-credit-card text-lg w-6 text-indigo-600"></i>
          <span class="ml-3">Financing Requests</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('quizzes') ? 'bg-violet-50 text-violet-700 shadow-sm  border-violet-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/quizzes']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-question-circle text-lg w-6 text-violet-600"></i>
          <span class="ml-3">Quizzes</span>
        </a>
      </li>

      <li class="nav-item mb-6">
        <a class="flex items-center p-3 rounded-lg group transition-all duration-200 relative"
          [ngClass]="isActiveMenuItem('faq') ? 'bg-sky-50 text-sky-700 shadow-sm  border-sky-500' : 'hover:bg-gray-50 hover:text-gray-900'"
          [routerLink]="['/admin/faq']" (click)="onMenuClick($event)">
          <i class="fa-solid fa-circle-info text-lg w-6 text-sky-600"></i>
          <span class="ml-3">F.A.Q</span>
        </a>
      </li>

    </ul>
  </div>

</aside>