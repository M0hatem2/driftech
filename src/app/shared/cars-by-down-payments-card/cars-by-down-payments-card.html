<div class="w-full h-full group">
      <div
            class="font-poppins relative w-full h-full rounded-2xl overflow-hidden bg-white shadow-[0_2px_12px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_24px_rgba(0,0,0,0.12)] transition-all duration-300 flex flex-col border border-gray-100">

            <!-- Image Section -->
            <div class="relative h-[280px] shrink-0 overflow-hidden">
                  <img [alt]="car.model + '-' + car.year"
                        class="w-full h-full object-cover object-center transition-transform duration-700 group-hover:scale-110"
                        [src]="carImage" />

                  <!-- Gradient Overlay -->
                  <div
                        class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                  </div>

                  <!-- Top Badges -->
                  <div class="absolute top-4 left-0 w-full flex justify-between px-4 z-10">
                        <span
                              class="bg-foundation-orange-normal flex items-center backdrop-blur-sm text-white px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm">
                              {{ car.condition }}
                        </span>

                        <button (click)="toggleFavorite(); $event.stopPropagation()"
                              class="w-9 h-9 flex justify-center items-center rounded-full bg-white/30 backdrop-blur-md hover:bg-white transition-all duration-200 shadow-sm group/btn">
                              <i [class]="car.is_fav ? 'fa-solid fa-heart text-foundation-red-medium' : 'fa-solid fa-heart text-white group-hover/btn:text-gray-300'"
                                    class="text-lg transition-colors duration-200"></i>
                        </button>
                  </div>
            </div>

            <!-- Content Section -->
            <div class="p-5 flex flex-col flex-1 gap-4">

                  <!-- Header -->
                  <div class="flex justify-between items-start gap-2">
                        <div class="flex flex-col">
                              <h3 class="text-[17px] font-bold text-gray-900 leading-tight line-clamp-1"
                                    [title]="car.brand.name + ' ' + car.model">
                                    {{ car.brand.name }} {{ car.model }}
                              </h3>
                              <span class="text-sm text-gray-500 font-medium mt-0.5">{{ car.year }}</span>
                        </div>
                        <div class="text-right">
                              <h4 class="text-foundation-orange-normal font-extrabold text-lg whitespace-nowrap">
                                    {{ car.price | number }} <span class="text-xs font-bold">EGP</span>
                              </h4>
                        </div>
                  </div>

                  <!-- Specs Tags -->
                  <div class="flex flex-wrap gap-2">
                        <div
                              class="flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-50 text-gray-600 rounded-lg text-[11px] font-semibold border border-gray-100">
                              <i class="fa-solid fa-gears text-foundation-orange-normal/80"></i>
                              <span>{{ car.transmission }}</span>
                        </div>
                        <div
                              class="flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-50 text-gray-600 rounded-lg text-[11px] font-semibold border border-gray-100">
                              <i class="fa-solid fa-palette text-foundation-orange-normal/80"></i>
                              <span>{{ car.color }}</span>
                        </div>
                        <div
                              class="flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-50 text-gray-600 rounded-lg text-[11px] font-semibold border border-gray-100">
                              <i class="fa-solid fa-gauge-high text-foundation-orange-normal/80"></i>
                              <span>{{ car.km_driven }} KM</span>
                        </div>
                  </div>

                  <!-- Spacer -->
                  <div class="flex-1"></div>

                  <!-- Actions -->
                  <div class="flex gap-3 pt-2">
                        <a [href]="'https://klaksatauto.com/#/product/' + car.id"
                              class="flex-1 h-10 bg-foundation-orange-normal hover:bg-foundation-orange-dark text-white text-sm font-semibold rounded-xl flex items-center justify-center gap-2 transition-all duration-200 shadow-md shadow-foundation-orange-normal/20">
                              <span>View Details</span>
                              <i class="fa-solid fa-arrow-right text-xs"></i>
                        </a>

                        <button
                              class="w-10 h-10 border border-gray-200 rounded-xl flex items-center justify-center text-gray-400 hover:text-foundation-orange-normal hover:border-foundation-orange-normal hover:bg-orange-50 transition-all duration-200">
                              <i class="fa-solid fa-share-nodes"></i>
                        </button>
                  </div>
            </div>
      </div>
</div>